<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title><%= siteTitle %></title>
  <link rel="stylesheet" href="<%= basePath %>/styles.css">
</head>
<body>
  <%- include('partials/header', { basePath, siteTitle }) %>
  <main class="main">
    <h2 class="section-title">Recent stock recommendations</h2>
    <div class="table-wrap">
      <table>
        <thead>
          <tr>
            <th>Ticker</th>
            <th>Company</th>
            <th>Recommendation</th>
            <th>Rec Date</th>
            <th>Target price</th>
            <th>Time horizon</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
<% recommendations.forEach(function(r) { %>
    <tr>
      <td class="col-ticker"><a href="<%= r.detailUrl %>" class="link-ticker"><%= r.ticker %></a></td>
      <td class="col-company"><%= r.title %></td>
      <td class="col-rec"><span class="badge <%= r.badgeClass %>"><%= r.recommendationType %></span></td>
      <td class="col-date"><%= r.dateStr %></td>
      <td class="col-target"><%= r.targetStr %></td>
      <td class="col-horizon"><%= r.timeHorizon %></td>
      <td class="col-action"><a href="<%= r.detailUrl %>" class="link-view icon-view" aria-label="View"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg></a></td>
    </tr>
<% }); %>
<% if (recommendations.length === 0) { %>
    <tr><td colspan="7" class="empty-state">No recommendations yet.</td></tr>
<% } %>
        </tbody>
      </table>
    </div>
  </main>
  <%- include('partials/footer', { basePath, siteTitle }) %>
</body>
</html>
